<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="box.css" />
    <link rel="stylesheet" href="oneofus.css" />
  </head>
  <body>
    <main>
      <h1>Delegate Keys</h1>

      <p>
        It's not going to work out well if we hand out our private key to the
        hundreds of services we enjoy. Instead, we delegate to disposable crypto
        key pairs for their use.
      </p>
      <div class="text-iframe-2col">
        <div class="content">
          <p>Milhouse delegates a key pair to nerdster.org</p>
          <p>(Still vapid; we don't know whose keys those are.)</p>
        </div>

        <div class="embed">
          <iframe id="flutterApp"></iframe>
        </div>
      </div>

      <p>
        When you delegate a key pair to a service, the ONE-OF-US.NET phone app:
      </p>
      <ol>
        <li>Creates and stores a new crypto key pair</li>
        <li>
          Uses your private key to sign and publish a statement that this key
          represents you on that service
        </li>
      </ol>
      <p>
        Sign in to that service using the app to securely transmit the full key
        (public and private components) to that service.
      </p>
      <p>
        Use the app to revoke that delegation (eg. in case you don't like that
        service any longer), revoke it at a particular time in history (eg. in
        case your delegate key was compromised), or even erase (clear) the
        delegation entirely - like it never even happened.
      </p>
    </main>

    <script src="iframe_helper.js"></script>
    <script>
      (function () {
        const iframe = document.getElementById("flutterApp");
        if (!iframe) return;

        const verify = `{
  "statement": "net.one-of-us",
  "time": "2024-06-22T07:00:00.000Z",
  "I": {
    "crv": "Ed25519",
    "kty": "OKP",
    "x": "mEwiqG7o46sVysAtb5z4x-jLfIIW_YnWH3Y5yMhPBcg"
  },
  "delegate": {
    "crv": "Ed25519",
    "kty": "OKP",
    "x": "xrRGbgdaLOGphzM1BnOjvYvWjRoGeQYcDaHHVjPROpo"
  },
  "with": {
    "domain": "nerdster.org"
  },
  "previous": "b0a3b4c11c0a8652a14fdf99fcb656f4c6a96940",
  "signature": "785def8d9ffaf2e5a26717fe10cfc09c3c1889e8afb914c1415f4e5101b12e42afda50a55bf3076c0b1a66f7df0e08464868db3bbb635449bc8322945931fb09"
}`;

        iframe.src = IframeHelper.constructUrl({
          verify: verify,
          verifyFullScreen: "true",
        });
      })();
    </script>
  </body>
</html>
