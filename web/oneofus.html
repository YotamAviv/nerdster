<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ONE-OF-US.NET — Home</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Comic+Neue:wght@400;700&family=Bangers&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="oneofus.css" />
    <link rel="stylesheet" href="boxes.css" />
  </head>
  <!-- http://localhost:37549/ TEMP: one-of-us.net? one-of-us-net.web.app? nerdster.org? -->
  <body>
    <header class="site-header container">
      <div class="left" style="display: flex; align-items: center; gap: 12px">
        <img src="img/oneofus_1024.png" alt="ONE-OF-US.NET" class="logo" />
        <div class="brand">
          <h1>ONE-OF-US.NET</h1>
          <pre class="tagline-pre">
A network of the people, by the people, for the people.
  All your likes are belong to us.
    Retis, ergo sum.</pre
          >
        </div>
      </div>
      <div class="header-actions">
        <aside class="app-links" aria-label="Get the app">
          <a
            href="https://apps.apple.com/us/app/one-of-us/id6739090070?itscg=30200&itsct=apps_box_badge&mttnsubad=6739090070"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Download on the App Store"
          >
            <img src="img/apple.webp" alt="Download on the App Store" />
          </a>
          <a
            href="https://play.google.com/store/apps/details?id=net.oneofus.app"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Get it on Google Play"
          >
            <img src="img/google.webp" alt="Get it on Google Play" />
          </a>
        </aside>
      </div>
    </header>

    <!-- full-width hero (lead) -->
    <section class="hero">
      <div class="hero-inner">
        <div class="lead">
          <h1>Our own identity network</h1>
          <p>
            If you believe that knowing who's who is important, who should be
            the authority? Google? Elon? The Gov't? Or us.
          </p>
          <h3>-- I am not a robot</h3>
          <p>You reading this now are either one of us or one of them.</p>
        </div>
      </div>
    </section>

    <!-- full-width comic band: Jones -->
    <section class="hero">
      <div class="hero-inner">
        <section class="comic">
          <div class="comic-image">
            <img src="img/jones.png" alt="comic" />
          </div>
          <div class="bubble">
            <p>
              <em
                >Farmers' market today, hmm... They don't like me over
                there..</em
              >
            </p>
            <p>
              Wait! Maybe I'll go using an incogneto browser. That way I can be
              totally annoying, and they won't know it's me. I could go again
              next week, and they won't even know it's the same dude.
            </p>
            <p>
              <strong
                >If everyone went using incogneto windows, no-one would know
                who's who or who's even a person.</strong
              >
            </p>
            <p>SicK!</p>
          </div>
        </section>
      </div>
    </section>

    <!-- full-width hero (lead) -->
    <!-- section class="hero" -->
    <section class="hero">
      <div class="hero-inner">
        <div class="lead">
          <h2>Crypto</h2>
          <p>
            Tech advances have made it possible for us to own and manage our own
            identities without relying on any authority or service. By
            cryptographically vouching for each other, we could know who's who
            on any service.
          </p>
        </div>
      </div>
    </section>

    <!-- boxes row -->
    <section class="container">
      <section class="boxes" aria-live="polite">
        <div class="box" role="button" tabindex="0" data-detail="oneofus-what">
          <h3>Crypto</h3>
          <p class="muted">ChatGPT can't steal your Bitcoin.</p>
          <template class="box-detail">
            <div>
              <!--  Not sure why VSCode shows a red warning. 
                Not sure if src or srcdoc is preferred.  
                srcdoc='<base href="."><script>location.replace("delegate.html" + parent.location.search)</script>' -->
              <iframe
                title="Crypto detail"
                src="http://localhost:37549/crypto.html"
                style="width: 100%; height: 460px; border: 0"
              ></iframe>
            </div>
          </template>
        </div>
        <div class="box" role="button" tabindex="0" data-detail="oneofus-wot">
          <h3>Identity</h3>
          <p class="muted">Your public key is your identity.</p>
          <template class="box-detail">
            <div>
              <iframe
                title="Crypto identity"
                src="http://localhost:37549/crypto_identity.html"
                style="width: 100%; height: 460px; border: 0"
              ></iframe>
            </div>
          </template>
        </div>
        <div class="box" role="button" tabindex="0" data-detail="oneofus-wot">
          <h3>Trust</h3>
          <p class="muted">People vouch for each other.</p>
          <template class="box-detail">
            <div>
              <iframe
                title="Crypto trust"
                src="http://localhost:37549/crypto_trust.html"
                style="width: 100%; height: 460px; border: 0"
              ></iframe>
            </div>
          </template>
        </div>
        <div class="box" role="button" tabindex="0" data-detail="oneofus-qr">
          <h3>Delegation</h3>
          <p class="muted">
            People authorize disposable crypto key pairs for other services' use.
          </p>
          <template class="box-detail">
            <div>
              <!-- 
                Not sure why VSCode shows a red warning. 
                Not sure if src or srcdoc is preferred.  
                srcdoc='<base href="."><script>location.replace("delegate.html" + parent.location.search)</script>'
              -->
              <iframe
                title="Delegate detail"
                src="http://localhost:37549/delegate.html"
                style="width: 100%; height: 460px; border: 0"
              ></iframe>
            </div>
          </template>
        </div>
      </section>
    </section>

    <!-- full-width comic band (Sheila) -->
    <section class="hero">
      <div class="hero-inner">
        <section class="comic rev">
          <div class="bubble">
            <p><em>Catching up on the lastest, scrolling...</em></p>
            <p>
              ad, promoted content, psuedonymous fakenews meme repost, ad,
              promoted content, psuedonymous fakenews meme repost, ...
            </p>
            <p>
              <strong
                >Shocking! I better repost this one, myself (using my own
                psuedonymous account;).</strong
              >
            </p>
          </div>
          <div class="comic-image">
            <img src="img/sheila-sm-flip.png" alt="Sheila comic" />
          </div>
        </section>
      </div>
    </section>

    <!-- sample boxes row inserted between comic bands -->
    <section class="container">
      <section class="boxes" aria-live="polite">
        <div class="box" role="button" tabindex="0" data-detail="oneofus-what">
          <h3>Identity</h3>
          <p class="muted">Own your cryptographic identity across services.</p>
          <template class="box-detail">
            <h3>Identity</h3>
            <p>
              The network lets individuals hold and use cryptographic keys that
              represent them, not an account owned by a corporation.
            </p>
          </template>
        </div>
        <div
          class="box"
          role="button"
          tabindex="0"
          data-detail="oneofus-delegate"
        >
          <h3>Delegates</h3>
          <p class="muted">Short-lived per-service keys you control.</p>
          <template class="box-detail">
            <h3>Delegates</h3>
            <p>
              Delegates are disposable keys issued by your identity device so
              services never see your long-term key.
            </p>
          </template>
        </div>
        <div class="box" role="button" tabindex="0" data-detail="oneofus-wot">
          <h3>Web-of-trust</h3>
          <p class="muted">People vouch for each other.</p>
          <template class="box-detail">
            <h3>Web-of-trust</h3>
            <p>
              Trust decisions are expressed as vouches or blocks between
              participants so signatures carry local meaning.
            </p>
          </template>
        </div>
        <div class="box" role="button" tabindex="0" data-detail="oneofus-qr">
          <h3>QR Sign-in</h3>
          <p class="muted">Approve sessions with a simple scan.</p>
          <template class="box-detail">
            <h3>QR Sign-in</h3>
            <p>
              Authenticate a service by scanning a QR with your device; approve
              the delegate and you're signed in without sharing your master key.
            </p>
          </template>
        </div>
      </section>
    </section>

    <footer class="site-footer">
      <div class="container">
        <p>
          <a href="mailto:contact@one-of-us.net">Contact</a>,
          <a href="https://github.com/YotamAviv/oneofus" target="_blank"
            >Source</a
          >
        </p>
      </div>
    </footer>
    <!-- modal and overlay for box details -->
    <div id="overlay" class="overlay" aria-hidden="true"></div>
    <div id="modal" class="modal" aria-hidden="true">
      <div class="modal-inner" role="dialog" aria-modal="true">
        <button id="modalClose" class="modal-close" aria-label="Close">
          ✕
        </button>
        <div id="modalContent"></div>
      </div>
    </div>

    <!-- iframe embedding script.. works, but not bothering with it for now.
     It is useful for detetecting ?fire=emulator when running locally.
     It won't work when pushed to one-of-us.net as it is now.
    <script>
      // Observe modalContent for inserted iframe[data-embed="crypto"]
      // and set its src to crypto.html + the parent page's query string.
      (function () {
        const parentSearch = location.search || "";

        function setIframeSrcOnce(iframe) {
          if (!iframe || iframe.dataset.__cryptoSrcSet) return;
          iframe.dataset.__cryptoSrcSet = "1";
          try {
            // Prefer any explicit src on the iframe tag (this supports delegate.html
            // or other per-template embeds). If no src attribute, fall back to
            // the default crypto.html base.
            const declared = iframe.getAttribute("src");
            const baseSrc = declared;

            // Append parent's search (location.search) to the declared base.
            // parentSearch starts with '?' when non-empty.
            let newSrc = baseSrc;
            if (parentSearch) {
              if (baseSrc.includes("?")) {
                // base already has query params, append with &
                newSrc = baseSrc + "&" + parentSearch.slice(1);
              } else {
                newSrc = baseSrc + parentSearch;
              }
            }

            // Resolve relative URL to absolute for logging; but set the iframe src
            // exactly to newSrc so we preserve relative behavior.
            try {
              console.info(
                "oneofus: set crypto iframe src ->",
                new URL(newSrc, location.href).href
              );
            } catch (e) {
              console.info("oneofus: set crypto iframe src ->", newSrc);
            }
            iframe.src = newSrc;
          } catch (err) {
            console.warn("oneofus: failed to set crypto iframe src", err);
          }
        }

        function observeModal() {
          const modalContent = document.getElementById("modalContent");
          if (!modalContent) return setTimeout(observeModal, 100);

          // If iframe already present (e.g., template was injected), set src now
          const existing = modalContent.querySelector(
            'iframe[data-embed="crypto"]'
          );
          if (existing) setIframeSrcOnce(existing);

          const mo = new MutationObserver((muts) => {
            for (const m of muts) {
              if (m.type === "childList" && m.addedNodes.length) {
                m.addedNodes.forEach((node) => {
                  if (!(node instanceof Element)) return;
                  const iframe =
                    node.querySelector &&
                    node.querySelector('iframe[data-embed="crypto"]');
                  if (iframe) setIframeSrcOnce(iframe);
                  // Also if the added node itself is the iframe
                  if (
                    node.matches &&
                    node.matches('iframe[data-embed="crypto"]')
                  )
                    setIframeSrcOnce(node);
                });
              }
            }
          });
          mo.observe(modalContent, { childList: true, subtree: true });
        }

        if (document.readyState === "loading")
          document.addEventListener("DOMContentLoaded", observeModal);
        else observeModal();
      })();
    </script>
    -->

    <script src="guard.js" defer></script>
    <script src="boxes.js" defer></script>
  </body>
</html>
