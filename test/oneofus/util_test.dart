import 'package:nerdster/oneofus/util.dart';
import 'package:test/test.dart';

void main() {
  test('''xssert doesn't evaluate messageFunc unless hafta''', () {
    int count = 0;

    xssert(true, () {
      count++;
      return 'yup';
    });
    expect(count, 0);

    try {
      xssert(false, () {
        count++;
        return 'yup';
      });
      fail('exception expected');
    } catch (e) {
      // (expected)
    }
    expect(count, 1);
  });
}
